<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>地球公转</title>
</head>

<body>
    <canvas id="cavas" style="width: 1000px;height:800px;"></canvas>

    <script>
        window.onload = function () {
            var canvas = document.getElementById('canvas');
            var cxt = canvas.getContext('2d');
            drawNotChange(cxt);
            cxt.fillStyle = 'blue';
            cxt.beginPath();
            cxt.arc(500, 550, 30, 0, 2 * Math.PI, true);
            cxt.closePath();
            cxt.fill();
            setInterval(function () {
                run(cxt);
            }, 50);

        }

        var time = 0;

        function run(cxt) {
            cxt.clearRect(0, 0, 1024, 728);
            drawNotChange(cxt);
            cxt.save();//将当前以左上角坐标为(0,0)的上下文环境进行保存，这样是为了在接下来中要进行画布偏移后，可以进行还原当前的环境
            cxt.translate(500, 400);
            cxt.rotate(time * 8 * Math.PI / 180);//设定每次旋转的度数
            cxt.fillStyle = 'blue';
            cxt.beginPath();
            cxt.arc(0, 150, 30, 0, 2 * Math.PI, false);
            cxt.closePath();
            cxt.fill();
            cxt.restore();//将当前为(500,400)的点还原为（0,0）,其实在save中就是将上下文环境保存到栈中，在restore下面对其进行还原
            time += 1;
        }

        function drawNotChange(cxt) {
            cxt.fillStyle = 'red';
            cxt.beginPath();
            cxt.arc(500, 40, 30, 0, 2 * Math.PI, true);
            cxt.closePath();
            cxt.fill();
            cxt.beginPath();
            cxt.arc(500, 400, 150, 0, 2 * Math.PI, true);
            cxt.closePath();
            cxt.stroke();
        }
    </script>
</body>

</html>